:root {
    --green: #25D366;
    --dark-green: #075E54;
    --bg-chat: #E5DDD5;
    --sent: #DCF8C6;
    --light-gray: #f0f2f5;
}

body, html {
    margin: 0; padding: 0; height: 100%;
    font-family: 'Segoe UI', Helvetica, Arial, sans-serif;
    background-color: var(--light-gray);
}

.screen { display: none; height: 100vh; width: 100%; flex-direction: column; }
.screen.active { display: flex; }

/* --- LOGIN --- */
#login-screen { justify-content: center; align-items: center; background: #25d36612; }
.login-card {
    background: white; padding: 40px; border-radius: 15px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1); text-align: center; width: 320px;
}
.brand-icon {
    background: var(--green); width: 70px; height: 70px; border-radius: 15px;
    margin: 0 auto 20px; display: flex; justify-content: center; align-items: center;
}
input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; outline: none; }
button { width: 100%; padding: 12px; background: var(--green); color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; transition: 0.3s; }
button:hover { background: #1ebe57; }
button:disabled { background: #ccc; cursor: not-allowed; }

/* --- CABECERA --- */
.chat-header { background: var(--dark-green); color: white; padding: 10px 20px; z-index: 10; }
.user-info { display: flex; align-items: center; }
.avatar { 
    width: 40px; height: 40px; background: #128C7E; border-radius: 50%; 
    margin-right: 15px; display: flex; justify-content: center; align-items: center; font-weight: bold;
}

/* --- GESTIÃ“N DE CONTACTOS (NUEVO) --- */
.contacts-manager {
    background: white;
    padding: 10px;
    border-bottom: 1px solid #ddd;
}
.search-bar { display: flex; gap: 8px; margin-bottom: 10px; }
.search-bar input { margin: 0; border-radius: 20px; padding: 8px 15px; }
#add-contact-btn { width: 50px; border-radius: 20px; display: flex; justify-content: center; align-items: center; }

.contacts-list {
    display: flex;
    gap: 15px;
    overflow-x: auto;
    padding: 5px 0;
}
.contacts-list::-webkit-scrollbar { height: 4px; }
.contacts-list::-webkit-scrollbar-thumb { background: #ccc; border-radius: 10px; }

.contact-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    min-width: 60px;
    cursor: pointer;
    transition: 0.2s;
}
.contact-item:hover { transform: scale(1.05); }
.contact-avatar {
    width: 45px; height: 45px; background: var(--green); border-radius: 50%;
    display: flex; justify-content: center; align-items: center;
    color: white; font-weight: bold; margin-bottom: 4px; border: 2px solid transparent;
}
.contact-item.active .contact-avatar { border-color: var(--dark-green); box-shadow: 0 0 8px var(--green); }
.contact-item small { font-size: 11px; color: #555; max-width: 60px; overflow: hidden; text-overflow: ellipsis; }

/* --- AREA DE CHAT --- */
.message-area {
    flex: 1; background: var(--bg-chat);
    background-image: url('https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png');
    padding: 20px; overflow-y: auto; display: flex; flex-direction: column;
}
.system-notice { align-self: center; background: #fff3cd; padding: 5px 15px; border-radius: 10px; font-size: 12px; color: #856404; margin-bottom: 20px; }

.message { max-width: 75%; padding: 8px 12px; border-radius: 8px; margin-bottom: 10px; font-size: 14px; box-shadow: 0 1px 1px rgba(0,0,0,0.1); }
.received { background: white; align-self: flex-start; }
.sent { background: var(--sent); align-self: flex-end; }
.message span { font-size: 10px; color: #999; float: right; margin-top: 5px; margin-left: 10px; }

/* --- INPUT AREA --- */
.input-area { background: #f0f0f0; padding: 10px; display: flex; align-items: center; }
.input-area input { border-radius: 20px; margin: 0 10px; background: white; }
#send-btn { width: 45px; height: 45px; border-radius: 50%; display: flex; justify-content: center; align-items: center; padding: 0; }
    
